---
Title: mtr (My Traceroute)
Description: |
  mtrコマンドは、tracerouteとpingの機能を組み合わせたネットワーク診断ツールです。
  宛先ホストまでのネットワーク経路を調査し、各ホップでのパケット損失や遅延をリアルタイムで表示します。
Tags:
  - linux
  - network
  - mtr
---

### 基本的な使い方

`mtr`は引数にホスト名またはIPアドレスを指定して実行します。
実行を停止するには `q` を入力します。

```bash
mtr google.com
```

### レポートモード

`-r` または `--report` オプションを付けると、指定した回数（デフォルトは10回）のプローブを実行し、結果を標準出力に出力して終了します。
CI/CD環境やスクリプトでの使用に適しています。

```bash
mtr -r google.com
```

### 送信元のIPアドレス(NIC)を指定

`--address <IPアドレス>` オプションを使用すると、複数のIPアドレスを持つホストで、`mtr`が使用する送信元IPアドレスを指定できます。
これは、特定のネットワークインターフェースからの経路をテストしたい場合に有用です。

```bash
mtr --address 192.168.1.100 google.com
```

### 出力の見方

| 列      | 説明                                                                             |
| :------ | :------------------------------------------------------------------------------- |
| `Host`  | ホップのホスト名またはIPアドレス。                                               |
| `Loss%` | パケット損失率。                                                                 |
| `Snt`   | 送信したICMPエコー要求パケットの数。                                             |
| `Last`  | 最後に受信したICMPエコー応答の遅延（ミリ秒）。                                   |
| `Avg`   | 平均遅延（ミリ秒）。                                                             |
| `Best`  | 最小遅延（ミリ秒）。                                                             |
| `Wrst`  | 最大遅延（ミリ秒）。                                                             |
| `StDev` | 遅延の標準偏差。値が大きいほど、そのホップでの遅延が不安定であることを示します。 |
